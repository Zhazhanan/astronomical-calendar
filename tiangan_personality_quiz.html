<!-- save as tiangan_personality_quiz.html -->
<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8"><title>天干人格测评</title><meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  body{font-family:Arial, sans-serif; padding:24px; background:#fafafa}
  .card{max-width:760px;margin:0 auto;background:#fff;padding:18px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
  .q{margin:12px 0}
  button{background:#0078d7;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer}
  .result{margin-top:16px;padding:12px;border-radius:8px;background:#f3faff}
</style>
</head>
<body>
<div class="card">
  <h2>天干人格倾向测验（简短版）</h2>
  <p>请根据“最像你的”程度回答每题：0（完全不像）— 4（非常像）。完成后点击“查看结果”。</p>
  <form id="quiz">
    <!-- Questions map to 天干 indices 0..9 -->
    <div class="q">1. 我通常第一个启动新的计划并推动它（甲/丙） <input type="range" min="0" max="4" value="2" data-tg="0,2"></div>
    <div class="q">2. 我有耐性缠绵、擅长在细节中成长（乙/丁） <input type="range" min="0" max="4" value="2" data-tg="1,3"></div>
    <div class="q">3. 我会承担重任并保护团队（戊/己） <input type="range" min="0" max="4" value="2" data-tg="4,5"></div>
    <div class="q">4. 我做决定快且断然（庚） <input type="range" min="0" max="4" value="2" data-tg="6"></div>
    <div class="q">5. 我精益求精，注重品味与细节（辛） <input type="range" min="0" max="4" value="2" data-tg="7"></div>
    <div class="q">6. 我适应性强、富有流动性与灵感（壬） <input type="range" min="0" max="4" value="2" data-tg="8"></div>
    <div class="q">7. 我安静、深思且直觉敏锐（癸） <input type="range" min="0" max="4" value="2" data-tg="9"></div>
    <div class="q">8. 我喜欢领导、影响别人、充满热情（丙） <input type="range" min="0" max="4" value="2" data-tg="2"></div>
    <div class="q">9. 我擅长在复杂局势中找规律并稳定执行（己/戊） <input type="range" min="0" max="4" value="2" data-tg="5,4"></div>
    <div class="q">10. 我更像“策略家”：柔中带刚、会潜伏积累（乙/癸） <input type="range" min="0" max="4" value="2" data-tg="1,9"></div>

    <div style="margin-top:14px"><button type="button" id="calc">查看结果</button></div>
  </form>

  <div id="out" class="result" style="display:none"></div>
</div>

<script>
const mapping = ["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"];
document.getElementById('calc').addEventListener('click', ()=>{
  const sliders = document.querySelectorAll('#quiz input[type=range]');
  const scores = Array(10).fill(0);
  sliders.forEach(s=>{
    const v = parseInt(s.value,10);
    const tgIdxs = s.dataset.tg.split(',').map(x=>parseInt(x,10));
    tgIdxs.forEach((i, j)=>{ if(!isNaN(i)) scores[i]+=v/(tgIdxs.length); });
  });
  // rank
  const arr = scores.map((s,i)=>({tg:mapping[i],score:Math.round(s*100)/100}));
  arr.sort((a,b)=>b.score-a.score);
  const out = document.getElementById('out'); out.style.display='block';
  out.innerHTML = `<strong>你的天干倾向：</strong><br><ol>${arr.slice(0,3).map(x=>`<li>${x.tg}: ${x.score}</li>`).join('')}</ol>`;
  // short desc
  const descs = {
    '甲':'甲 — 突破型：开局者、推动者。',
    '乙':'乙 — 成长型：柔韧、策略型成长。',
    '丙':'丙 — 表达型：外向、热情。',
    '丁':'丁 — 持续型：稳健、支持。',
    '戊':'戊 — 守护型：责任感强。',
    '己':'己 — 孕育型：踏实、内敛。',
    '庚':'庚 — 决断型：果敢、改革。',
    '辛':'辛 — 精致型：追求完美、审美。',
    '壬':'壬 — 流动型：灵活、富创意。',
    '癸':'癸 — 深沉型：直觉、洞察。'
  };
  out.innerHTML += `<p>${descs[arr[0].tg]}<br>${descs[arr[1].tg]}</p>`;
});
</script>
</body>
</html>
